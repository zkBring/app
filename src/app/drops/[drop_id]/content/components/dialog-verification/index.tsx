import {
  FC,
  useEffect,
  useState
} from 'react'
import {
  DialogStyled,
  Content,
  TextStyled,
  WidgetStyled,
  IconedListStyled,
  ButtonStyled,
  Buttons,
  SmallTextStyled,
  LinkStyled,
  CanvasStyled
} from './styled-components'
import {
  VerificationCheckIcon,
  VerificationLockIcon,
  VerificationProfileIcon
} from '@/components/icons'
import { useDispatch } from 'react-redux'
import {
  setEphemeralKey,
  setVerified,
  setWebproof
} from '@/lib/slices'
import {
  docsLink,
  extensionDownloadLink
} from '@/app/configs'
import TProps from './types'
import { Drop } from 'zkbring-sdk'
import plausibleApi from '@/app/api/plausible'

const verificationSteps = [
  {
    title: 'Privacy-preserving: ',
    icon: <VerificationLockIcon />,
    value: 'No personal data is shared'
  }, {
    title: 'Local verification: ',
    icon: <VerificationCheckIcon />,
    value: 'Everything happens on your device'

  }, {
    title: 'Secured by math: ',
    icon: <VerificationProfileIcon />,
    value: 'Built with zero-knowledge proofs'

  }
]

const checkIfTransgateAvailable = async (
  drop: Drop
) => {
  try {
    const isTransgateAvailable = await drop.isTransgateAvailable()
    return isTransgateAvailable
  } catch (err) {
    return false
  }
}

const startVerification = async (
  drop: Drop
) => {
  try {
    plausibleApi.invokeEvent({
      eventName: 'verification_started'
    })
    const result = await drop.generateWebproof()
    plausibleApi.invokeEvent({
      eventName: 'verification_finished'
    })
    const { webproof, ephemeralKey } = result
    
    return {
      webproof, ephemeralKey
    }
  } catch (err) {
    console.log({ err })
    alert("Verification failed")
    return null
  }
}

const checkIfClaimedBefore = async (
  drop: Drop,
  uHash: string
) => {
  try {
    const isClaimed = await drop.hasUserClaimed({ uHash: uHash })
    return isClaimed
  } catch (err) {
    console.log({ err })
    alert("Check failed")
    return null
  }
}

const DialogVerification: FC<TProps> = ({
  onClose,
  dropInstance, 
  setClaimIsReady,
  showTransgateDialog,
  installStarted
}) => {

  const [ loading, setLoading ] = useState<boolean>(false)
  const dispatch = useDispatch()

  useEffect(() => {

    // @ts-ignore
    class Time{constructor(){this.frame=0,this.absTime=performance.now(),this.mseconds=0,this.seconds=0,this.deltas=0,this.rate=60}update(){this.frame++,this.mseconds+=performance.now()-this.absTime,this.deltas=.001*(performance.now()-this.absTime),this.seconds=.001*this.mseconds,this.absTime=performance.now()}}class Connector{constructor(A,e,t,n){this.owner=A,this.index=e,this.isInput=t,this.connections=[],this.description=n,this.inOP=null,this.outOP=null,this.multiInput=!1}connect(A){if(!A)return void console.warn("Target cannot be null or undefined");let e,t;if(this.isInput){if(!0===A.isInput)return void console.warn("Cannot connect input to input");e=this,t=A}else{if(!1===A.isInput)return void console.warn("Cannot connect output to output");e=A,t=this}if(!t.owner){if(!(t.outputConnectors.length>0))return void console.warn("OPs has no outputs");t=t.outputConnectors[0]}if(!e.owner){if(!(e.inputConnectors.length>0))return void console.warn("OPs has no outputs");e=e.isMultiInputs?e.inputConnectors[0]:e.inputConnectors[e.inputConnectors.length-1]}e.inOP&&(e=e.inOP.inputConnectors[0]),t.outOP&&(t=t.outOP.outputConnectors[0]),e.family==t.family?e.owner!=t.owner?(e.connections=[t],e.owner.isMultiInputs||e.index!=e.owner.inputConnectors.length-1||this.owner.inputConnectors.push(new Connector(this.owner,this.index+1,!0,`Source${this.index+1}`)),e.owner.updateOrderedInputs(),t.connections.push(e)):console.warn("Can not connect to the same OP"):console.warn("OPs must be same family")}disconnect(){}}class ConnectorUI{constructor(A){this.connector=A,this.owner=this.connector.owner,this.ui=document.createElement("div"),this.isInput=this.connector.isInput,this.index=this.connector.index,this.isUnordered=!1;let e="output";this.isInput&&(e="input"),this.ui.classList.add("connector",e,this.owner.family),this.owner.opUI.op.appendChild(this.ui);let t=this.owner.inputConnectors.length;this.isInput||(t=this.owner.outputConnectors.length);let n=this.connector.index;this.ui.style.top=50*(n/t+.5/t)+25+"%",this.ui.addEventListener("mousedown",(A=>{viewport.onMouseDownOpConnector(A,this)})),this.ui.addEventListener("mouseup",(A=>{viewport.onMouseUpOpConnector(A,this)})),this.ui.addEventListener("mouseover",(A=>{viewport.onMouseOverOpConnector(A,this)})),this.ui.addEventListener("mouseout",(A=>{viewport.onMouseOutOpConnector(A,this)}))}}class UnorderedConnectorUI{constructor(A){this.owner=A,this.ui=document.createElement("div"),this.isInput=!0,this.index=0,this.isUnordered=!0,this.ui.classList.add("connector","input",this.owner.family),this.owner.opUI.op.appendChild(this.ui);let e=this.owner.inputConnectors.length;this.ui.style.top="50%",this.ui.style.height=4*e+8+"px",this.ui.addEventListener("mousedown",(A=>{viewport.onMouseDownOpConnector(A,this)})),this.ui.addEventListener("mouseup",(A=>{viewport.onMouseUpOpConnector(A,this)})),this.ui.addEventListener("mouseover",(A=>{viewport.onMouseOverOpConnector(A,this)})),this.ui.addEventListener("mouseout",(A=>{viewport.onMouseOutOpConnector(A,this)}))}}class OP{constructor(A,e,t,n,i,s){this.gl=t,this.error=null,this.name=A,this.time=e,this.cook=0,this.prevCook=0,this.initialized=!1,this.dirty=!0,this.current=!1,this.selected=!1,this.prevNodeX,this.prevNodeY,this.lastUpdate,this.nodeX=0,this.nodeY=0,this.opUI={},this.opUIbars={},this.par={},this.family,this.inputs=[],this.orderedInputs=[],this.dependencies=[],this.toScreen=!1,this.bypass=!1,this.resolutionMult=2,this.needResize=!1,this.defaultInputs=i,this.defaultOutputs=s,this.isMultiInputs=n,this.inputConnectors=[],this.outputConnectors=[],this.initConnectors()}initConnectors(){if(this.inputs=[],this.isMultiInputs)for(let A=0;A<this.defaultInputs.length;A++)this.inputConnectors.push(new Connector(this,A,!0,this.defaultInputs[A]));else this.inputConnectors.push(new Connector(this,0,!0,"Source0"));this.outputs=[];for(let A=0;A<this.defaultOutputs.length;A++)this.outputConnectors.push(new Connector(this,A,!1,this.defaultOutputs[A]))}handleCanvasResolution(){let A=this.gl.canvas,e=()=>{let e=A.clientWidth,t=A.clientHeight;A.width=Math.floor(e*this.resolutionMult),A.height=Math.floor(t*this.resolutionMult),this.gl.viewport(0,0,A.width,A.height),this.needResize=!0};e(),new ResizeObserver((()=>{e()})).observe(A)}initialize(){this.initialized||(this.toScreen&&this.handleCanvasResolution(),this.initConnected(),this.initFamily(),this.doInit(),this.initialized=!0)}updateOrderedInputs(){this.orderedInputs=[],this.inputs=[];for(let A=0;A<this.inputConnectors.length;A++){let e=this.inputConnectors[A];e.connections.length>0?(this.orderedInputs.push(e.connections[0].owner),this.inputs.push(e.connections[0].owner)):this.orderedInputs.push(null)}}initConnected(){for(let A=0;A<this.dependencies.length;A++)this.dependencies[A].initialize();for(let A=0;A<this.inputs.length;A++)this.inputs[A].initialize()}initFamily(){}doInit(){}onConnectionChange(){}connect(A){this.inputConnectors[this.inputs.length].connections.push(A.outputConnectors[0]),this.inputs.push(A),A.outputs.push(this),this.isMultiInputs||this.inputConnectors.push(new Connector(this,this.inputConnectors.length,!0,`Source${this.inputConnectors.length}`)),this.updateOrderedInputs()}updateConnected(){for(let A=0;A<this.dependencies.length;A++)this.dependencies[A].update();for(let A=0;A<this.inputs.length;A++)this.inputs[A].update()}update(){this.needResize&&(this.resize(),this.needResize=!1),this.lastUpdate!=this.time.frame&&(this.updateConnected(),this.cook=performance.now(),this.updateDo(),this.cook=(this.prevCook+performance.now()-this.cook)/2,this.prevCook=1*this.cook,this.lastUpdate=this.time.frame,this.initialized=!1)}createUI(){if(this.opUI.op=document.createElement("div"),this.opUI.op.classList.add("op"),document.body.appendChild(this.opUI.op),this.opUI.op.addEventListener("click",(A=>onOpClick(A,this))),this.opUI.op.addEventListener("mousedown",(A=>{viewport.onMouseDownOp(A,this)})),this.inputConnectors.length,this.isMultiInputs)for(var A in this.inputConnectors)new ConnectorUI(this.inputConnectors[A]);else new UnorderedConnectorUI(this);for(var A in this.outputConnectors.length,this.outputConnectors)new ConnectorUI(this.outputConnectors[A]);this.u0=0,this.u1=0,this.v0=0,this.v1=0,this.createUIbyClass()}updataNodeXY(A){this.x=(this.nodeX-A.x)*A.zoom+A.width/2,this.y=(this.nodeY-A.y)*A.zoom+A.height/2,this.opUI.op.style.left=Math.floor(this.x).toString()+"px",this.opUI.op.style.bottom=Math.floor(this.y).toString()+"px",this.opUI.op.style.transform=`scale(${A.zoom})`,this.opUI.op.style.setProperty("--parent-scale",A.zoom),this.opUI.op.style.borderWidth=1/A.zoom+"px",this.updateViewerCoord(A),this.selected?this.opUI.op.style.boxShadow=`0 0 0 ${1/A.zoom}px yellow`:this.current?this.opUI.op.style.boxShadow="0 0 0 2px green":this.opUI.op.style.boxShadow="none"}updateViewerCoord(A){let e=this.opUI.op.getBoundingClientRect();this.u0=e.left/A.width,this.u1=e.right/A.width,this.v0=1-e.bottom/A.height,this.v1=1-e.top/A.height}createUIbyClass(){}hideUi(){this.opUI.op.style.visibility="hidden"}showUi(){this.opUI.op.style.visibility="visible"}clamp(A,e,t){return Math.min(Math.max(A,e),t)}}class TOP extends OP{constructor(...A){super(...A),this.gl=gl,this.family="TOP",this.par.outputresolution=0,this.par.resolutionw=256,this.par.resolutionh=256,this.fixedResInput=0,this.toScreen=!1}vertexShader="#version 300 es\nin vec2 position;\nout vec3 vUV;\nvoid main() {\ngl_Position = vec4( position,0.0, 1.0 );\nvUV.xy = position * 0.5 + 0.5;\nvUV.z = 0.;\n}";fragmentShader="";program;uniforms=[];output;resX;resY;buffer;appendUniform(A,e,t){this.uniforms.push({name:A,type:e,vals:t})}createTarget(A,e,t){var n={};let i=this.gl;return n.framebuffer=i.createFramebuffer(),n.renderbuffer=i.createRenderbuffer(),n.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,n.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,A,e,0,i.RGBA,t,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.bindFramebuffer(i.FRAMEBUFFER,n.framebuffer),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,n.texture,0),i.bindTexture(i.TEXTURE_2D,null),i.bindRenderbuffer(i.RENDERBUFFER,null),i.bindFramebuffer(i.FRAMEBUFFER,null),n}createShader(A,e){var t=this.gl.createShader(e);if(this.gl.shaderSource(t,A),this.gl.compileShader(t),!this.gl.getShaderParameter(t,this.gl.COMPILE_STATUS)){return console.error("Shader compile error:",this.path,this.gl.getShaderInfoLog(t)),A.split("\n").forEach(((A,e)=>{})),this.gl.deleteShader(t),null}return t}cacheUniformLocation(A,e){void 0===A.uniformsCache&&(A.uniformsCache={}),A.uniformsCache[e]=this.gl.getUniformLocation(A,e)}setResolution(){if(0==this.par.outputresolution)if(0==this.inputs.length)this.width=this.par.resolutionw,this.height=this.par.resolutionh;else{let A=this.inputs[this.fixedResInput];this.width=A.width,this.height=A.height}9==this.par.outputresolution&&(this.width=this.par.resolutionw,this.height=this.par.resolutionh),10==this.par.outputresolution&&(this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight),this.appendUniform("resolution","2f",[this.width,this.height]);let A=this.inputs.length;if(A>0)for(let e=0;e<A;e++)this.appendUniform(`uTD2DInfos[${e}].res`,"4f",[1/this.inputs[e].width,1/this.inputs[e].height,this.inputs[e].width,this.inputs[e].height]),this.appendUniform(`uTD2DInfos[${e}].depth`,"4f",[1,1,1,1])}insertTDUniforms(){let A="",e=[],t=this.inputs.length;if(t>0){for(let A=0;A<t;A++)e.push(`TDTexInfo(vec4(1./${Math.round(this.inputs[A].width)}., 1./${Math.round(this.inputs[A].height)}., ${Math.round(this.inputs[A].width)}., ${Math.round(this.inputs[A].height)}.), vec4(1.))`);A=`\nstruct TDTexInfo {\nvec4 res;\nvec4 depth;\n};\nuniform TDTexInfo uTD2DInfos[${t}];\nconst int TD_NUM_2D_INPUTS = ${t};`}this.fragmentShader=this.fragmentShader.replace("@TDUniforms@",A)}disposeResources(){let A=this.gl;this.program&&(A.deleteProgram(this.program),this.program=null),this.vs&&(A.deleteShader(this.vs),this.vs=null),this.fs&&(A.deleteShader(this.fs),this.fs=null),this.buffer&&(A.deleteBuffer(this.buffer),this.buffer=null),this.output&&(this.output.framebuffer&&A.deleteFramebuffer(this.output.framebuffer),this.output.renderbuffer&&A.deleteRenderbuffer(this.output.renderbuffer),this.output.texture&&A.deleteTexture(this.output.texture),this.output=null)}doInit(){this.disposeResources(),this.setResolution(),this.insertTDUniforms(),this.onCompile(),this.compile()}onResize(){}resize(){for(let A=0;A<this.inputs.length;A++)this.inputs[A].resize();this.setResolution();try{this.gl.useProgram(this.program),this.program.uniformsCache&&this.program.uniformsCache.resolution&&this.gl.uniform2f(this.program.uniformsCache.resolution,this.width,this.height);let A=this.inputs.length;if(A>0)for(let e=0;e<A;e++)this.gl.uniform4f(this.program.uniformsCache[`uTD2DInfos[${e}].res`],1/this.inputs[e].width,1/this.inputs[e].height,this.inputs[e].width,this.inputs[e].height),this.gl.uniform4f(this.program.uniformsCache[`uTD2DInfos[${e}].depth`],1,1,1,1);this.gl.useProgram(null),this.output=this.createTarget(this.width,this.height,this.gl.UNSIGNED_BYTE)}catch(A){console.error("catched: ",A)}this.onResize()}onCompile(){}compile(){let A=this.gl;if(this.buffer=A.createBuffer(),A.bindBuffer(A.ARRAY_BUFFER,this.buffer),A.bufferData(A.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),A.STATIC_DRAW),this.program=A.createProgram(),this.vs=this.createShader(this.vertexShader,A.VERTEX_SHADER),this.fs=this.createShader(this.fragmentShader,A.FRAGMENT_SHADER),null==this.vs||null==this.fs)return null;if(A.attachShader(this.program,this.vs),A.attachShader(this.program,this.fs),A.deleteShader(this.vs),A.deleteShader(this.fs),A.linkProgram(this.program),!A.getProgramParameter(this.program,A.LINK_STATUS)){var e=A.getProgramInfoLog(this.program);console.error(e),console.error("VALIDATE_STATUS: "+A.getProgramParameter(this.program,A.VALIDATE_STATUS),"ERROR: "+A.getError());let t=A.getShaderInfoLog(this.fs);return t=t.split("ERROR:")[1].split(":")[1],void console.error(this.name+"  "+A.getShaderInfoLog(this.fs)+"\n"+t+"\n"+this.fragmentShader.split("\n")[t-1])}for(var t in this.uniforms)this.cacheUniformLocation(this.program,this.uniforms[t].name);for(var t in this.inputs.length>0&&this.cacheUniformLocation(this.program,"sTD2DInputs[0]"),A.useProgram(this.program),this.screenVertexPosition=A.getAttribLocation(this.program,"position"),A.enableVertexAttribArray(this.screenVertexPosition),this.uniforms)"1f"==this.uniforms[t].type&&A.uniform1f(this.program.uniformsCache[this.uniforms[t].name],this.uniforms[t].vals[0]),"2f"==this.uniforms[t].type&&A.uniform2f(this.program.uniformsCache[this.uniforms[t].name],this.uniforms[t].vals[0],this.uniforms[t].vals[1]),"3f"==this.uniforms[t].type&&A.uniform3f(this.program.uniformsCache[this.uniforms[t].name],this.uniforms[t].vals[0],this.uniforms[t].vals[1],this.uniforms[t].vals[2]),"4f"==this.uniforms[t].type&&A.uniform4f(this.program.uniformsCache[this.uniforms[t].name],this.uniforms[t].vals[0],this.uniforms[t].vals[1],this.uniforms[t].vals[2],this.uniforms[t].vals[3]),"resolution"==this.uniforms[t].name&&A.uniform2f(this.program.uniformsCache[this.uniforms[t].name],this.width,this.height),"res"==this.uniforms[t].name&&A.uniform2f(this.program.uniformsCache[this.uniforms[t].name],this.width,this.height);this.output=this.createTarget(this.width,this.height,A.UNSIGNED_BYTE),A.useProgram(null)}setUniform1f(A,e){this.gl.useProgram(this.program),this.gl.uniform1f(this.program.uniformsCache[A],e[0]),this.gl.useProgram(null)}setUniform2f(A,e){this.gl.useProgram(this.program),this.gl.uniform2f(this.program.uniformsCache[A],e[0],e[1]),this.gl.useProgram(null)}setUniform3f(A,e){this.gl.useProgram(this.program),this.gl.uniform3f(this.program.uniformsCache[A],e[0],e[1],e[2]),this.gl.useProgram(null)}setUniform4f(A,e){this.gl.useProgram(this.program),this.gl.uniform4f(this.program.uniformsCache[A],e[0],e[1],e[2],e[3]),this.gl.useProgram(null)}render(){let A=this.gl;if(A.useProgram(this.program),this.inputs.length>0){let e=new Int32Array(this.inputs.length);for(let t=0;t<this.inputs.length;t++)e[t]=t,A.activeTexture(A.TEXTURE0+t),A.bindTexture(A.TEXTURE_2D,this.inputs[t].output.texture),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.LINEAR),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.LINEAR);A.uniform1iv(this.program.uniformsCache["sTD2DInputs[0]"],e)}A.getContextAttributes().antialias?(this.toScreen?A.bindFramebuffer(A.FRAMEBUFFER,null):A.bindFramebuffer(A.FRAMEBUFFER,this.output.framebuffer),A.viewport(0,0,this.width,this.height),A.bindBuffer(A.ARRAY_BUFFER,this.buffer),A.vertexAttribPointer(this.screenVertexPosition,2,A.FLOAT,!1,0,0),A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT),A.drawArrays(A.TRIANGLES,0,6),A.useProgram(null)):(A.bindFramebuffer(A.FRAMEBUFFER,this.output.framebuffer),A.viewport(0,0,this.width,this.height),A.bindBuffer(A.ARRAY_BUFFER,this.buffer),A.vertexAttribPointer(this.screenVertexPosition,2,A.FLOAT,!1,0,0),A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT),A.drawArrays(A.TRIANGLES,0,6),A.useProgram(null),this.toScreen&&(A.bindFramebuffer(A.READ_FRAMEBUFFER,this.output.framebuffer),A.bindFramebuffer(A.DRAW_FRAMEBUFFER,null),A.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,A.COLOR_BUFFER_BIT,A.NEAREST),A.bindFramebuffer(A.READ_FRAMEBUFFER,null),A.bindFramebuffer(A.DRAW_FRAMEBUFFER,null)))}updateViewerCoord(A){let e=this.opUI.texture.getBoundingClientRect();this.u0=e.left/A.width,this.u1=e.right/A.width,this.v0=1-e.bottom/A.height,this.v1=1-e.top/A.height}createUIbyClass(){this.opUI.op.style.backgroundColor="rgba(0, 0, 0, 0.1)",this.opUI.texture=document.createElement("div"),this.opUI.texture.classList.add("texture"),this.opUI.op.appendChild(this.opUI.texture),this.opUI.name=document.createElement("div"),this.opUI.name.classList.add("topName"),this.opUI.op.appendChild(this.opUI.name),this.opUI.name.textContent=this.name,this.opUI.cook=document.createElement("div"),this.opUI.cook.classList.add("cook"),this.opUI.op.appendChild(this.opUI.cook),this.opUI.cook.textContent="0000"}updateUI(){this.opUI.cook.textContent=""}}class COMP extends OP{constructor(...A){super(...A),this.parent=parent,this.family="COMP",this.inputOps=[],this.currentChild=null,this.selectedChildren=[],this.childOps=[]}updateDo(){}initFamily(){this.childOps.forEach((A=>{["inCHOP","inTOP","inMAT","inSOP","inDAT"].includes(A.OPType)}))}findChildren(){let A=[],e=t=>{t.childOps.forEach((t=>{A.push(t),"COMP"==t.family&&e(t)}))};return e(this),A}createUIbyClass(){this.opUI.op.addEventListener("dblclick",(A=>onDoubleClickCOMP(A,this))),this.opUI.name=document.createElement("div"),this.opUI.name.classList.add("compName"),this.opUI.op.appendChild(this.opUI.name),this.opUI.name.textContent=this.name}updateUI(){}}class CHOP extends OP{constructor(...A){super(...A),this.family="CHOP",this.numChans=1}chans=[];minUi=0;maxUi=1;initFamily(){this.chans=Array(this.numChans).fill(0)}createUIbyClass(){for(let A=0;A<this.chans.length;A++)this.opUI[A]=document.createElement("div"),this.opUI[A].classList.add("chan"),this.opUI.op.appendChild(this.opUI[A]),this.opUI[A].textContent=this.chans[A],this.opUIbars[A]=document.createElement("div"),this.opUIbars[A].classList.add("chanBar"),this.opUI.op.appendChild(this.opUIbars[A]);this.opUI.name=document.createElement("div"),this.opUI.name.classList.add("chopName"),this.opUI.op.appendChild(this.opUI.name),this.opUI.name.textContent=this.name,this.opUI.cook=document.createElement("div"),this.opUI.cook.classList.add("cook"),this.opUI.op.appendChild(this.opUI.cook)}updateUI(){for(let A=0;A<this.chans.length;A++)this.opUI[A].textContent=this.chans[A].toFixed(8),this.opUIbars[A].style.width=(this.chans[A]-this.minUi)/(this.maxUi-this.minUi)*100+"%",this.chans[A]<this.minUi&&(this.minUi=1*this.chans[A]),this.chans[A]>this.maxUi&&(this.maxUi=1*this.chans[A]),this.opUI.cook.textContent=""}}class OutTOP extends TOP{constructor(A,e,t){super(A,e,t,!0,["Source 1"],["Output"]),this.OPType="outTOP",this.minInputs=1,this.maxInputs=1,this.fragmentShader="# version 300 es \nprecision highp float;\nin vec3 vUV;\nuniform sampler2D sTD2DInputs[1];\n@TDUniforms@\nuniform vec2 resolution;\nuniform float time;\nout vec4 fragColor;\nvoid main()\n{\nvec4 c = texture(sTD2DInputs[0], vUV.st);\nfragColor = (c);\n}\n"}updateDo(){this.render()}}class GlslmultiTOP extends TOP{constructor(A,e,t){super(A,e,t,!1,["Source 1"],["Output"]),this.minInputs=0,this.maxInputs=9999}updateDo(){this.render()}}class ContainerCOMP extends COMP{constructor(A,e,t){super(A,e,t,!0,[],[]),this.minInputs=0,this.maxInputs=1}}class SpeedCHOP extends CHOP{constructor(A,e,t){super(A,e,t,!0,["Source","Reset"],["Output"]),this.minInputs=1,this.maxInputs=2,this.par.order=0,this.par.constant1=0,this.par.constant2=0,this.par.constant3=0,this.par.limittype=0,this.par.min=0,this.par.max=1,this.par.speedsamples=0,this.par.resetcondition=1,this.par.resetvalue=0,this.par.reset=0,this.par.resetonstart=1,this.prev=0}clampSpeed(A,e,t){return A>t?1*t:A<e?1*e:1*A}loopSpeed(A,e,t){if(A>t)for(;A>t;)A=A-t+e;if(A<e)for(;A<e;)A=t-(A-e);return A}doInit(){this.reset()}reset(){for(let A=0;A<this.chans.length;A++)this.chans[A]=1*this.par.resetvalue}updateDo(){for(let A=0;A<this.chans.length;A++)this.chans[A]+=this.time.deltas*this.inputs[0].chans[A],1==this.par.limittype&&(this.chans[A]=this.clampSpeed(1*this.chans[A],this.par.min,this.par.max)),2==this.par.limittype&&(this.chans[A]=this.loopSpeed(1*this.chans[A],this.par.min,this.par.max)),this.par.reset>0&&this.reset();void 0!==this.inputs[1]&&(0==this.par.resetcondition&&this.prev<=0&&1*this.inputs[1].chans[0]>0&&this.reset(),1==this.par.resetcondition&&1*this.inputs[1].chans[0]>0&&this.reset(),2==this.par.resetcondition&&this.prev>0&&1*this.inputs[1].chans[0]<=0&&this.reset(),3==this.par.resetcondition&&1*this.inputs[1].chans[0]<=0&&this.reset(),this.prev=1*this.inputs[1].chans[0])}setVals(A){this.chans=A.slice()}}class ConstantCHOP extends CHOP{constructor(A,e,t){super(A,e,t,!0,["Snap Channels","Active"],["Output"]),this.minInputs=0,this.maxInputs=2}parMap={};updateDo(){for(let[A,e]of Object.entries(this.parMap))this.chans[e]=1*this.par[A]}doInit(){let A=0;for(let[e,t]of Object.entries(this.par))this.parMap[e]=A,A+=1}setVals(A){this.chans=A.slice()}}class MoviefileinTOP extends TOP{constructor(A,e,t){super(A,e,t,!0,[],["Output"]),this.minInputs=0,this.maxInputs=0,this.OPType="moviefileinTOP",this.fragmentShader="#version 300 es\nprecision highp float;\nuniform sampler2D textTexture;\nuniform vec2 resolution;\nout vec4 fragColor;\nvoid main() {\nvec2 uv = gl_FragCoord.xy/resolution.xy;\nfragColor = texture(textTexture, vec2(uv.x, 1.0-uv.y));\n}",this.appendUniform("textTexture","1i",[0]),this.textCanvas=null,this.textTexture=null}onCompile(){this.textCanvas=document.createElement("canvas"),this.textCanvas.width=this.width,this.textCanvas.height=this.height;let A=new Image;A.src=this.par.file,A.onload=()=>{this.textCanvas.width=this.width,this.textCanvas.height=this.height;let e=this.textCanvas.getContext("2d",{alpha:!0});e.clearRect(0,0,this.textCanvas.width,this.textCanvas.height),e.imageSmoothingEnabled=!1,e.drawImage(A,0,0,this.textCanvas.width,this.textCanvas.height),this.initTextCanvas(),this.compile()}}resize(){for(let A=0;A<this.inputs.length;A++)this.inputs[A].resize()}initTextCanvas(){this.textTexture=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.textTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.textCanvas),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR)}render(){this.gl.useProgram(this.program),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.textTexture),this.gl.uniform1i(this.program.uniformsCache.textTexture,0),this.toScreen?this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null):(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.output.framebuffer),this.gl.disable(this.gl.BLEND)),gl.viewport(0,0,this.width,this.height),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.vertexAttribPointer(this.screenVertexPosition,2,this.gl.FLOAT,!1,0,0),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}updateDo(){this.render()}}let gl,play=!0,canvasGl=document.getElementById("canvas");try{gl=canvasGl.getContext("webgl2",{preserveDrawingBuffer:!0,antialias:!1})}catch(A){}gl?(gl.getExtension("OES_standard_derivatives"),gl.getExtension("OES_texture_float"),gl.getExtension("OES_texture_float_linear")):alert("NotSupported");let theTime=new Time,OPs=[],convertedGLSLs_out1=new OutTOP("out1",theTime,gl),convertedGLSLs_aciiGlSL4=new GlslmultiTOP("aciiGlSL4",theTime,gl),convertedGLSLs_multiply1=new GlslmultiTOP("multiply1",theTime,gl),convertedGLSLs_null1=new GlslmultiTOP("null1",theTime,gl),convertedGLSLs_displace1=new GlslmultiTOP("displace1",theTime,gl),convertedGLSLs_displace2=new GlslmultiTOP("displace2",theTime,gl),convertedGLSLs_ramp9=new GlslmultiTOP("ramp9",theTime,gl),convertedGLSLs_constant2=new GlslmultiTOP("constant2",theTime,gl),convertedGLSLs=new ContainerCOMP("convertedGLSLs",theTime,gl),convertedGLSLs_speedCHOP2=new SpeedCHOP("speedCHOP2",theTime,gl),convertedGLSLs_constantCHOP2=new ConstantCHOP("constantCHOP2",theTime,gl),convertedGLSLs_ramp5=new GlslmultiTOP("ramp5",theTime,gl),convertedGLSLs_speedCHOP3=new SpeedCHOP("speedCHOP3",theTime,gl),convertedGLSLs_constantCHOP3=new ConstantCHOP("constantCHOP3",theTime,gl),convertedGLSLs_noise3=new GlslmultiTOP("noise3",theTime,gl),convertedGLSLs_speed1=new SpeedCHOP("speed1",theTime,gl),convertedGLSLs_speed=new ConstantCHOP("speed",theTime,gl),convertedGLSLs_over4=new GlslmultiTOP("over4",theTime,gl),convertedGLSLs_ramp10=new GlslmultiTOP("ramp10",theTime,gl),convertedGLSLs_multiply4=new MoviefileinTOP("multiply4",theTime,gl);function animate(){theTime.update(),play&&(convertedGLSLs_out1.update(),convertedGLSLs_ramp9.setUniform1f("pphase",[1*convertedGLSLs_speedCHOP2.chans[0]]),convertedGLSLs_ramp5.setUniform1f("pphase",[1*convertedGLSLs_speedCHOP3.chans[0]]),convertedGLSLs_noise3.setUniform1f("ptz",[1*convertedGLSLs_speed1.chans[0]]))}convertedGLSLs_ramp9.dependencies.push(convertedGLSLs_speedCHOP2),convertedGLSLs_ramp5.dependencies.push(convertedGLSLs_speedCHOP3),convertedGLSLs_noise3.dependencies.push(convertedGLSLs_speed1),convertedGLSLs_speedCHOP2.setVals([0]),convertedGLSLs_speedCHOP2.numChans=1,convertedGLSLs_constantCHOP2.setVals([.41999998688697815]),convertedGLSLs_constantCHOP2.numChans=1,convertedGLSLs_speedCHOP3.setVals([0]),convertedGLSLs_speedCHOP3.numChans=1,convertedGLSLs_constantCHOP3.setVals([.46000000834465027]),convertedGLSLs_constantCHOP3.numChans=1,convertedGLSLs_speed1.setVals([0]),convertedGLSLs_speed1.numChans=1,convertedGLSLs_speed.setVals([.49000000953674316]),convertedGLSLs_speed.numChans=1,convertedGLSLs_out1.par.outputresolution=0,convertedGLSLs_out1.par.resolutionw=653,convertedGLSLs_out1.par.resolutionh=500,convertedGLSLs_aciiGlSL4.par.outputresolution=0,convertedGLSLs_aciiGlSL4.par.resolutionw=653,convertedGLSLs_aciiGlSL4.par.resolutionh=500,convertedGLSLs_multiply1.par.outputresolution=0,convertedGLSLs_multiply1.par.resolutionw=653,convertedGLSLs_multiply1.par.resolutionh=500,convertedGLSLs_multiply1.fixedResInput=1,convertedGLSLs_null1.par.outputresolution=0,convertedGLSLs_null1.par.resolutionw=653,convertedGLSLs_null1.par.resolutionh=500,convertedGLSLs_displace1.par.outputresolution=0,convertedGLSLs_displace1.par.resolutionw=653,convertedGLSLs_displace1.par.resolutionh=500,convertedGLSLs_displace2.par.outputresolution=0,convertedGLSLs_displace2.par.resolutionw=653,convertedGLSLs_displace2.par.resolutionh=500,convertedGLSLs_ramp9.par.outputresolution=0,convertedGLSLs_ramp9.par.resolutionw=653,convertedGLSLs_ramp9.par.resolutionh=500,convertedGLSLs_constant2.par.outputresolution=10,convertedGLSLs_constant2.par.resolutionw=653,convertedGLSLs_constant2.par.resolutionh=500,convertedGLSLs_ramp5.par.outputresolution=0,convertedGLSLs_ramp5.par.resolutionw=653,convertedGLSLs_ramp5.par.resolutionh=500,convertedGLSLs_noise3.par.outputresolution=0,convertedGLSLs_noise3.par.resolutionw=1156,convertedGLSLs_noise3.par.resolutionh=1156,convertedGLSLs_over4.par.outputresolution=0,convertedGLSLs_over4.par.resolutionw=512,convertedGLSLs_over4.par.resolutionh=512,convertedGLSLs_over4.fixedResInput=1,convertedGLSLs_ramp10.par.outputresolution=9,convertedGLSLs_ramp10.par.resolutionw=512,convertedGLSLs_ramp10.par.resolutionh=512,convertedGLSLs_multiply4.par.outputresolution=0,convertedGLSLs_multiply4.par.resolutionw=1e3,convertedGLSLs_multiply4.par.resolutionh=1e3,convertedGLSLs.par.w=653,convertedGLSLs.par.h=500,convertedGLSLs.par.resizecomp=[convertedGLSLs],convertedGLSLs.par.repocomp=[convertedGLSLs],convertedGLSLs_constantCHOP2.par.const0value=.42,convertedGLSLs_constantCHOP3.par.const0value=.46,convertedGLSLs_speed.par.const0value=.49,convertedGLSLs_multiply4.par.file="data:image/png;base64,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dAAAACiAgA4AAAAFENABAACgAAI6AAAAFEBABwAAgAII6AAAAFAAAR0AAAAKIKADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACzbrx6AAAH+0lEQVQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMn+FyTsU+1ft5SpAAAAAElFTkSuQmCC",convertedGLSLs_out1.connect(convertedGLSLs_aciiGlSL4),convertedGLSLs_aciiGlSL4.connect(convertedGLSLs_multiply1),convertedGLSLs_aciiGlSL4.connect(convertedGLSLs_multiply4),convertedGLSLs_multiply1.connect(convertedGLSLs_null1),convertedGLSLs_multiply1.connect(convertedGLSLs_over4),convertedGLSLs_null1.connect(convertedGLSLs_displace1),convertedGLSLs_displace1.connect(convertedGLSLs_displace2),convertedGLSLs_displace1.connect(convertedGLSLs_noise3),convertedGLSLs_displace2.connect(convertedGLSLs_ramp9),convertedGLSLs_displace2.connect(convertedGLSLs_ramp5),convertedGLSLs_ramp9.connect(convertedGLSLs_constant2),convertedGLSLs_speedCHOP2.connect(convertedGLSLs_constantCHOP2),convertedGLSLs_ramp5.connect(convertedGLSLs_constant2),convertedGLSLs_speedCHOP3.connect(convertedGLSLs_constantCHOP3),convertedGLSLs_speed1.connect(convertedGLSLs_speed),convertedGLSLs_over4.connect(convertedGLSLs_ramp10),convertedGLSLs_over4.connect(convertedGLSLs_constant2),convertedGLSLs_out1.toScreen=!0,convertedGLSLs_out1.resolutionMult=1.5,convertedGLSLs_aciiGlSL4.fragmentShader="# version 300 es \nprecision highp float;\nin vec3 vUV;\nuniform sampler2D sTD2DInputs[2];\n@TDUniforms@\nuniform vec2 resolution;\nuniform float n;\nuniform float doColors;\nuniform vec2 asciiRes;\nout vec4 fragColor;\nvec3 rgb2hsv(vec3 c)\n{\nvec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\nvec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\nvec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\nfloat d = q.x - min(q.w, q.y);\nfloat e = 1.0e-10;\nreturn vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\nvec3 hsv2rgb(vec3 c)\n{\nvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\nvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\nreturn c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\nvoid main()\n{\nvec2 uv = vUV.st;\nvec2 step = resolution/n;\nvec2 shift = fract(uv*step);\nuv = floor(uv*step)/step;\nvec4 color = texture(sTD2DInputs[0], uv);\nfloat v = rgb2hsv(color.rgb).b;\nvec2 xy = vec2(0.);\nfloat index = (asciiRes.x*asciiRes.y-1.)*v;\nxy.x = floor(mod(index,asciiRes.y));\nxy.y = floor(index/asciiRes.y);\nxy = xy/asciiRes+shift/asciiRes;\nvec4 outColor = texture(sTD2DInputs[1], xy);\nif (doColors>0.){\nvec3 hsv1 = rgb2hsv(outColor.rgb);\nvec3 hsv2 = rgb2hsv(color.rgb);\nhsv1.rg = hsv2.rg;\noutColor.rgb = hsv2rgb(hsv1);\n}\nfragColor = (outColor);\n}\n",convertedGLSLs_aciiGlSL4.appendUniform("n","1f",[5]),convertedGLSLs_aciiGlSL4.appendUniform("asciiRes","2f",[5,5]),convertedGLSLs_aciiGlSL4.appendUniform("doColors","1f",[1]),convertedGLSLs_multiply1.fragmentShader="# version 300 es \nprecision highp float;\nin vec3 vUV;\nuniform sampler2D sTD2DInputs[2];\n@TDUniforms@\nuniform vec2 resolution;\nuniform float time;\nout vec4 fragColor;\nvoid main()\n{\nvec2 uv = vUV.st;\nvec4 a = texture(sTD2DInputs[0], uv);\nvec4 b = texture(sTD2DInputs[1], uv);\nfragColor = (a*b);\n}\n",convertedGLSLs_multiply1.appendUniform("time","1f",[0]),convertedGLSLs_null1.fragmentShader="# version 300 es \nprecision highp float;\nin vec3 vUV;\nuniform sampler2D sTD2DInputs[1];\n@TDUniforms@\nuniform vec2 resolution;\nuniform float time;\nout vec4 fragColor;\nvoid main()\n{\nvec4 c = texture(sTD2DInputs[0], vUV.st);\nfragColor = (c);\n}\n",convertedGLSLs_null1.appendUniform("time","1f",[0]),convertedGLSLs_displace1.fragmentShader="# version 300 es \nprecision highp float;\nin vec3 vUV;\nuniform sampler2D sTD2DInputs[2];\n@TDUniforms@\nuniform vec2 resolution;\nuniform float time;\nuniform float pmidpointx;\nuniform float pmidpointy;\nuniform float pdisplaceweightx;\nuniform float pdisplaceweighty;\nout vec4 fragColor;\nvoid main()\n{\nvec4 a = texture(sTD2DInputs[1], vUV.st);\nvec2 d = a.rb-vec2(pmidpointx,pmidpointy);\nd = d*2.0*vec2(pdisplaceweightx,pdisplaceweighty);\nvec2 uv = vUV.st+ d;\nuv = clamp(uv,0.0,1.0);\nvec4 c = texture(sTD2DInputs[0], uv);\nfragColor = (c);\n}\n",convertedGLSLs_displace1.appendUniform("time","1f",[0]),convertedGLSLs_displace1.appendUniform("pmidpointx","1f",[.5]),convertedGLSLs_displace1.appendUniform("pmidpointy","1f",[.5]),convertedGLSLs_displace1.appendUniform("pdisplaceweightx","1f",[.54]),convertedGLSLs_displace1.appendUniform("pdisplaceweighty","1f",[.54]),convertedGLSLs_displace2.fragmentShader="# version 300 es \nprecision highp float;\nin vec3 vUV;\nuniform sampler2D sTD2DInputs[2];\n@TDUniforms@\nuniform vec2 resolution;\nuniform float time;\nuniform float pmidpointx;\nuniform float pmidpointy;\nuniform float pdisplaceweightx;\nuniform float pdisplaceweighty;\nout vec4 fragColor;\nvoid main()\n{\nvec4 a = texture(sTD2DInputs[1], vUV.st);\nvec2 d = a.rb-vec2(pmidpointx,pmidpointy);\nd = d*2.0*vec2(pdisplaceweightx,pdisplaceweighty);\nvec2 uv = vUV.st+ d;\nuv = clamp(uv,0.0,1.0);\nvec4 c = texture(sTD2DInputs[0], uv);\nfragColor = (c);\n}\n",convertedGLSLs_displace2.appendUniform("time","1f",[0]),convertedGLSLs_displace2.appendUniform("pmidpointx","1f",[.5]),convertedGLSLs_displace2.appendUniform("pmidpointy","1f",[.5]),convertedGLSLs_displace2.appendUniform("pdisplaceweightx","1f",[1]),convertedGLSLs_displace2.appendUniform("pdisplaceweighty","1f",[1]),convertedGLSLs_ramp9.fragmentShader="# version 300 es \nprecision highp float;\nin vec3 vUV;\nuniform sampler2D sTD2DInputs[1];\n@TDUniforms@\nuniform vec2 resolution;\nuniform float ptype;\nuniform float pposition1;\nuniform float pposition2;\nuniform float pphase;\nuniform float pperiod;\nuniform float pextendleft;\nuniform float pinterp;\nuniform float pantialias;\nuniform float ppremultrgbbyalpha;\nconst vec4 colors[] = vec4[](\nvec4(1.0,0.84705883,0.38431373,1.0),\nvec4(0.007000029,0.23870003,1.0,1.0));\nconst float pos[] = float[](0.0,1.0);\nvec4 RAMP(vec4 cols[2],float pos[2], float x, int type) {\nint a = 0;\nint b = 0;\nfor(int i=0; i<1;i++){\nif (pos[i]<=x && x<=pos[i+1]){\na = i;\nb = i+1;\nx = (x-pos[a])/(pos[b]-pos[a]);\nbreak;\n}\n}\nvec4 c = vec4(0.,0.,0.,0.);\nif (type == 3) c = mix(cols[a], cols[b], smoothstep(0.0, 1.0, x));\nif (type == 2) c = mix(cols[a], cols[b], smoothstep(0.0, 1.0, x));\nif (type == 0) c = mix(cols[a], cols[a], x);\nif (type == 1) c = mix(cols[a], cols[b], x);\nreturn c;\n}\nout vec4 fragColor;\nfloat extendLeft(float line, int type){\nfloat s = line;\nif(type == 0) s = clamp(line,0.,1.);\nif(type == 3) s = mod(line,1.);\nif(type == 4) {\ns = mod(line,2.);\nif(s>=1.0) s = 2.0-s;\n}\nreturn s;\n}\nvoid main()\n{\nvec4 c = vec4(0.0);\nvec4 cS = vec4(0.0);\nfloat line;\nvec2 uv0 = vUV.st-vec2(pposition1,pposition2);\nfloat aspect = resolution.y/resolution.x;\nif (resolution.x>resolution.y){\nfloat aspect = resolution.y/resolution.x;\nuv0.y = uv0.y*aspect;\nuv0.y = uv0.y+(1.0-aspect)/2.0;\n}\nelse{\nfloat aspect = resolution.x/resolution.y;\nuv0.x = uv0.x*aspect;\nuv0.x = uv0.x+(1.0-aspect)/2.0;\n}\nvec2 uv = uv0;\nvec2 d = 1./resolution;\nfor (float i = 1.; i <= pantialias; i++)\nfor (float j = 1.; j <= pantialias; j++){\nuv = uv0+vec2(i-1.,j-1.)*d/pantialias;\nif (int(ptype) == 0) line = (uv.y-(pphase))/pperiod;\nif (int(ptype) == 1) line = (uv.x-(pphase))/pperiod;\nif (int(ptype) == 3) line = (length(uv-0.5)*2.0)/pperiod-(pphase);\nline = extendLeft(line, int(pextendleft));\nc = RAMP(colors,pos,line, int(pinterp));\nif (pextendleft == 1. && (line >1. || line <0.)) c = vec4(0.,0.,0.,1.);\nif (pextendleft == 2. && (line >1. || line <0.)) c = vec4(0.,0.,0.,0.);\nif (ppremultrgbbyalpha > 0.) c.rgb = c.rgb*c.a;\ncS = cS+c;\n}\ncS = cS/(pantialias*pantialias);\nfragColor = (cS);\n}\n",convertedGLSLs_ramp9.appendUniform("ptype","1f",[3]),convertedGLSLs_ramp9.appendUniform("pposition1","1f",[0]),convertedGLSLs_ramp9.appendUniform("pposition2","1f",[0]),convertedGLSLs_ramp9.appendUniform("pphase","1f",[1*convertedGLSLs_speedCHOP2.chans[0]]),convertedGLSLs_ramp9.appendUniform("pperiod","1f",[.65]),convertedGLSLs_ramp9.appendUniform("pextendleft","1f",[4]),convertedGLSLs_ramp9.appendUniform("pinterp","1f",[1]),convertedGLSLs_ramp9.appendUniform("pantialias","1f",[4]),convertedGLSLs_ramp9.appendUniform("ppremultrgbbyalpha","1f",[1]),convertedGLSLs_constant2.fragmentShader="# version 300 es \nprecision highp float;\nin vec3 vUV;\n@TDUniforms@\nuniform vec2 resolution;\nuniform float pcolorr;\nuniform float pcolorg;\nuniform float pcolorb;\nuniform float palpha;\nuniform float pcombineinput;\nout vec4 fragColor;\nvec4 combineInput(vec4 c){\nvec4 c1 = vec4(1.);\nif (pcombineinput == 1.){\nc = c1*c;\nreturn c;\n}\nreturn c;\n}\nvoid main()\n{\nvec4 c = vec4(pcolorr,pcolorg,pcolorb,palpha);\nc.rgb = c.rgb*c.a;\nc = combineInput(c);\nfragColor = (c);\n}\n",convertedGLSLs_constant2.appendUniform("pcolorr","1f",[0]),convertedGLSLs_constant2.appendUniform("pcolorg","1f",[0]),convertedGLSLs_constant2.appendUniform("pcolorb","1f",[0]),convertedGLSLs_constant2.appendUniform("palpha","1f",[0]),convertedGLSLs_constant2.appendUniform("pcombineinput","1f",[1]),convertedGLSLs_ramp5.fragmentShader="# version 300 es \nprecision highp float;\nin vec3 vUV;\nuniform sampler2D sTD2DInputs[1];\n@TDUniforms@\nuniform vec2 resolution;\nuniform float ptype;\nuniform float pposition1;\nuniform float pposition2;\nuniform float pphase;\nuniform float pperiod;\nuniform float pextendleft;\nuniform float pinterp;\nuniform float pantialias;\nuniform float ppremultrgbbyalpha;\nconst vec4 colors[] = vec4[](\nvec4(0.953,0.013341999,0.013341999,1.0),\nvec4(0.16666651,0.0,1.0,1.0));\nconst float pos[] = float[](0.0,1.0);\nvec4 RAMP(vec4 cols[2],float pos[2], float x, int type) {\nint a = 0;\nint b = 0;\nfor(int i=0; i<1;i++){\nif (pos[i]<=x && x<=pos[i+1]){\na = i;\nb = i+1;\nx = (x-pos[a])/(pos[b]-pos[a]);\nbreak;\n}\n}\nvec4 c = vec4(0.,0.,0.,0.);\nif (type == 3) c = mix(cols[a], cols[b], smoothstep(0.0, 1.0, x));\nif (type == 2) c = mix(cols[a], cols[b], smoothstep(0.0, 1.0, x));\nif (type == 0) c = mix(cols[a], cols[a], x);\nif (type == 1) c = mix(cols[a], cols[b], x);\nreturn c;\n}\nout vec4 fragColor;\nfloat extendLeft(float line, int type){\nfloat s = line;\nif(type == 0) s = clamp(line,0.,1.);\nif(type == 3) s = mod(line,1.);\nif(type == 4) {\ns = mod(line,2.);\nif(s>=1.0) s = 2.0-s;\n}\nreturn s;\n}\nvoid main()\n{\nvec4 c = vec4(0.0);\nvec4 cS = vec4(0.0);\nfloat line;\nvec2 uv0 = vUV.st-vec2(pposition1,pposition2);\nfloat aspect = resolution.y/resolution.x;\nif (resolution.x>resolution.y){\nfloat aspect = resolution.y/resolution.x;\nuv0.y = uv0.y*aspect;\nuv0.y = uv0.y+(1.0-aspect)/2.0;\n}\nelse{\nfloat aspect = resolution.x/resolution.y;\nuv0.x = uv0.x*aspect;\nuv0.x = uv0.x+(1.0-aspect)/2.0;\n}\nvec2 uv = uv0;\nvec2 d = 1./resolution;\nfor (float i = 1.; i <= pantialias; i++)\nfor (float j = 1.; j <= pantialias; j++){\nuv = uv0+vec2(i-1.,j-1.)*d/pantialias;\nif (int(ptype) == 0) line = (uv.y-(pphase))/pperiod;\nif (int(ptype) == 1) line = (uv.x-(pphase))/pperiod;\nif (int(ptype) == 3) line = (length(uv-0.5)*2.0)/pperiod-(pphase);\nline = extendLeft(line, int(pextendleft));\nc = RAMP(colors,pos,line, int(pinterp));\nif (pextendleft == 1. && (line >1. || line <0.)) c = vec4(0.,0.,0.,1.);\nif (pextendleft == 2. && (line >1. || line <0.)) c = vec4(0.,0.,0.,0.);\nif (ppremultrgbbyalpha > 0.) c.rgb = c.rgb*c.a;\ncS = cS+c;\n}\ncS = cS/(pantialias*pantialias);\nfragColor = (cS);\n}\n",convertedGLSLs_ramp5.appendUniform("ptype","1f",[3]),convertedGLSLs_ramp5.appendUniform("pposition1","1f",[0]),convertedGLSLs_ramp5.appendUniform("pposition2","1f",[0]),convertedGLSLs_ramp5.appendUniform("pphase","1f",[1*convertedGLSLs_speedCHOP3.chans[0]]),convertedGLSLs_ramp5.appendUniform("pperiod","1f",[2.39]),convertedGLSLs_ramp5.appendUniform("pextendleft","1f",[4]),convertedGLSLs_ramp5.appendUniform("pinterp","1f",[1]),convertedGLSLs_ramp5.appendUniform("pantialias","1f",[4]),convertedGLSLs_ramp5.appendUniform("ppremultrgbbyalpha","1f",[1]),convertedGLSLs_noise3.fragmentShader="# version 300 es \nprecision highp float;\nin vec3 vUV;\n@TDUniforms@\nuniform vec2 resolution;\nuniform float pseed;\nuniform float pperiod;\nuniform float pharmon;\nuniform float pspread;\nuniform float pgain;\nuniform float pexp;\nuniform float pamp;\nuniform float poffset;\nuniform float pmono;\nuniform float ptx;\nuniform float pty;\nuniform float ptz;\nout vec4 fragColor;\nvec3 random3(vec3 c) {\nfloat j = (4096.0+pseed)*sin(dot(c,vec3(17.0, 59.4, 15.0)));\nvec3 r;\nr.z = fract(512.0*j);\nj *= .125;\nr.x = fract(512.0*j);\nj *= .125;\nr.y = fract(512.0*j);\nreturn r-0.5;\n}\nfloat simplex3d(vec3 p) {\nvec3 s = floor(p + dot(p, vec3(0.3333333)));\nvec3 x = p - s + dot(s, vec3(0.1666667));\nvec3 e = step(vec3(0.0), x - x.yzx);\nvec3 i1 = e*(1.0 - e.zxy);\nvec3 i2 = 1.0 - e.zxy*(1.0 - e);\nvec3 x1 = x - i1 + 0.1666667;\nvec3 x2 = x - i2 + 2.0*0.1666667;\nvec3 x3 = x - 1.0 + 3.0*0.1666667;\nvec4 w, d;\nw.x = dot(x, x);\nw.y = dot(x1, x1);\nw.z = dot(x2, x2);\nw.w = dot(x3, x3);\nw = max(0.6 - w, 0.0);\nd.x = dot(random3(s), x);\nd.y = dot(random3(s + i1), x1);\nd.z = dot(random3(s + i2), x2);\nd.w = dot(random3(s + 1.0), x3);\nw *= w;\nw *= w;\nd *= w;\nreturn dot(d, vec4(52.0));\n}\nconst mat3 rot1 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);\nconst mat3 rot2 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);\nconst mat3 rot3 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);\nfloat expFn(float a)\n{\nreturn pow(a,clamp(pexp, 0.0001, 10000.));\n}\nfloat simplex3d_fractal(vec3 m) {\nfloat sf = simplex3d(m*rot1);\nif(pharmon>=1.0)sf = sf+simplex3d(pspread*m*rot2)*pgain;\nif(pharmon>=2.0)sf = sf+simplex3d(pspread*pspread*m*rot3)*pgain;\nif(pharmon>=3.0)sf = sf+simplex3d(pspread*pspread*pspread*m)*pgain;\nif(pharmon>=4.0)sf = sf+simplex3d(pspread*pspread*pspread*pspread*m)*pgain;\nif(pharmon>=5.0)sf = sf+simplex3d(pspread*pspread*pspread*pspread*pspread*m)*pgain;\nif (sf>=0.) sf = expFn(sf);\nelse sf = - expFn(-sf);\nreturn sf;\n}\nvoid main()\n{\nvec2 p = vUV.st;\nfloat period = pperiod;\nif (period<0.001) period = 0.001;\np.y = p.y*resolution.y/resolution.x;\nvec3 p3 = vec3(p-vec2(ptx,pty)*period*0.2, ptz*0.1*period*2.0);\nif (pmono > 0.5)\n{\nfloat v;\nv = simplex3d_fractal(p3/period*5.0);\nv = poffset + v*pamp*2.0;\nfragColor = vec4(vec3(v),1.0);\n}\nelse\n{\nvec3 v;\nv = vec3(simplex3d_fractal(p3/period*5.0),simplex3d_fractal(p3/period*5.0+121.11),simplex3d_fractal(p3/period*5.0+45454.55));\nv = poffset + v*pamp*2.0;\nfragColor = vec4(v,1.0);\n}\nreturn;\n}\n",convertedGLSLs_noise3.appendUniform("pseed","1f",[1]),convertedGLSLs_noise3.appendUniform("pperiod","1f",[0]),convertedGLSLs_noise3.appendUniform("pharmon","1f",[1]),convertedGLSLs_noise3.appendUniform("pspread","1f",[4.6]),convertedGLSLs_noise3.appendUniform("pgain","1f",[.7]),convertedGLSLs_noise3.appendUniform("pexp","1f",[1]),convertedGLSLs_noise3.appendUniform("pamp","1f",[.5]),convertedGLSLs_noise3.appendUniform("poffset","1f",[.5]),convertedGLSLs_noise3.appendUniform("pmono","1f",[0]),convertedGLSLs_noise3.appendUniform("ptx","1f",[0]),convertedGLSLs_noise3.appendUniform("pty","1f",[0]),convertedGLSLs_noise3.appendUniform("ptz","1f",[1*convertedGLSLs_speed1.chans[0]]),convertedGLSLs_over4.fragmentShader="# version 300 es \nprecision highp float;\nin vec3 vUV;\nuniform sampler2D sTD2DInputs[2];\n@TDUniforms@\nuniform vec2 resolution;\nuniform float psize;\nuniform float pprefit;\nuniform float pjustifyh;\nuniform float pjustifyv;\nuniform float pextend;\nuniform float pr;\nuniform float ptx;\nuniform float pty;\nuniform float ptunit;\nuniform float psx;\nuniform float psy;\nuniform float ppx;\nuniform float ppy;\nuniform float ppunit;\nout vec4 fragColor;\nvec4 operation(vec4 a, vec4 b){\nfloat mask = a.a;\nif(mask>0.) a = a/mask;\nvec4 c = mix(b,a,mask);\nreturn c;\n}\nfloat justifyX(vec2 uv0, vec2 thisRes, vec2 fixedRes){\nvec2 uv = uv0;\nif(pjustifyh == 1.) return uv.x-(fixedRes.x-thisRes.x)/fixedRes.x*0.5;\nif(pjustifyh == 2.) return uv.x-(fixedRes.x-thisRes.x)/fixedRes.x;\nreturn uv.x;\n}\nfloat justifyY(vec2 uv0, vec2 thisRes, vec2 fixedRes){\nvec2 uv = uv0;\nif(pjustifyv == 1.) return uv.y-(fixedRes.y-thisRes.y)/fixedRes.y*0.5;\nif(pjustifyv == 2.) return uv.y-(fixedRes.y-thisRes.y)/fixedRes.y;\nreturn uv.y;\n}\nvec2 extend(vec2 uv0,vec2 thisRes){\nvec2 uv = uv0;\nif (pextend == 0.) uv = clamp(uv, 0.5/thisRes,1.0-0.5/thisRes);\nif (pextend == 2.) uv = mod(uv, vec2(1.));\nif (pextend == 3.) {\nuv = mod(uv, vec2(2.));\nif (uv.x > 1.) uv.x = 2. - uv.x;\nif (uv.y > 1.) uv.y = 2. - uv.y;\nuv = uv;\n}\nreturn uv;\n}\nvec2 fitHorizontal(vec2 uv0, vec2 thisRes, vec2 fixedRes){\nvec2 uv = uv0;\nfloat dY = (fixedRes.y/thisRes.y)*(thisRes.x/fixedRes.x);\nuv.y = uv.y*dY-0.5*dY+0.5;\nreturn uv;\n}\nvec2 fitVertical(vec2 uv0, vec2 thisRes, vec2 fixedRes){\nvec2 uv = uv0;\nfloat dX = (fixedRes.x/thisRes.x)*(thisRes.y/fixedRes.y);\nuv.x = uv.x*dX-0.5*dX+0.5;\nreturn uv;\n}\nmat2 getRotMatrix(float _angle){\nreturn mat2(cos(_angle),-sin(_angle),\nsin(_angle),cos(_angle));\n}\nvec2 rotate2(vec2 uv,vec2 fixedRes){\nfloat rad = radians(pr);\nvec2 aspect = fixedRes / fixedRes.y ;\nvec2 newUV = uv;\nnewUV = newUV * aspect;\nnewUV = getRotMatrix(-rad) * newUV;\nnewUV = newUV / aspect;\nreturn newUV;\n}\nvec2 fitResolution(vec2 uv0, vec2 thisRes, vec2 fixedRes){\nvec2 uv = uv0;\nvec2 modRes = thisRes;\nif(pprefit == 0.){\nmodRes = fixedRes;\n}\nif(pprefit == 5.) {\nuv.x = justifyX(uv0, thisRes,fixedRes);\nuv.y = justifyY(uv0, thisRes,fixedRes);\nvec2 dRes = fixedRes/thisRes;\nuv = uv*dRes;\n}\nif(pprefit == 1.) uv = fitHorizontal(uv, thisRes, fixedRes);\nif(pprefit == 2.) uv = fitVertical(uv, thisRes, fixedRes);\nif(pprefit == 3.){\nif(thisRes.x/fixedRes.x<thisRes.y/fixedRes.y) uv = fitVertical(uv, thisRes, fixedRes);\nelse uv = fitHorizontal(uv, thisRes, fixedRes);\n}\nif(pprefit == 4.){\nif(thisRes.x/fixedRes.x>thisRes.y/fixedRes.y) uv = fitVertical(uv, thisRes, fixedRes);\nelse uv = fitHorizontal(uv, thisRes, fixedRes);\n}\nvec2 pivot = vec2(ppx,ppy);\nif (ppunit == 0.) pivot = vec2(ppx,ppy)/resolution;\nif (ppunit == 2.) pivot = vec2(ppx,ppy*resolution.x/resolution.y);\nuv = uv-pivot;\nuv = rotate2(uv,modRes);\nuv.x = uv.x/psx;\nuv.y = uv.y/psy;\nuv = uv+pivot;\nuv = extend(uv, thisRes);\nreturn uv;\n}\nvec2 transform(vec2 uv0){\nif(ptunit == 0.)return uv0-vec2(ptx,pty)/resolution;\nif(ptunit == 1.)return uv0-vec2(ptx,pty);\nif(ptunit == 2.)return uv0-vec2(ptx,pty*resolution.x/resolution.y);\nreturn uv0-vec2(ptx,pty);\n}\nvoid main()\n{\nvec2 uv = vUV.st;\nvec2 uv0 = uv;\nvec2 uv1 = uv;\nvec2 res0 = uTD2DInfos[0].res.zw;\nvec2 res1 = uTD2DInfos[1].res.zw;\nif (psize == 1.)uv0 = fitResolution(transform(uv), res0, res1);\nelse uv1 = fitResolution(transform(uv), res1, res0);\nvec4 a = texture(sTD2DInputs[0], uv0);\nvec4 b = texture(sTD2DInputs[1], uv1);\nif(pextend ==1.){\nif (uv0.x<0.||uv0.x>1.||uv0.y<0.||uv0.y>1.) a = vec4(0.);\nif (uv1.x<0.||uv1.x>1.||uv1.y<0.||uv1.y>1.) b = vec4(0.);\n}\nvec4 c = operation(a,b);\nfragColor = (c);\n}\n",convertedGLSLs_over4.appendUniform("psize","1f",[1]),convertedGLSLs_over4.appendUniform("pprefit","1f",[3]),convertedGLSLs_over4.appendUniform("pjustifyh","1f",[1]),convertedGLSLs_over4.appendUniform("pjustifyv","1f",[1]),convertedGLSLs_over4.appendUniform("pextend","1f",[1]),convertedGLSLs_over4.appendUniform("pr","1f",[0]),convertedGLSLs_over4.appendUniform("ptx","1f",[0]),convertedGLSLs_over4.appendUniform("pty","1f",[0]),convertedGLSLs_over4.appendUniform("ptunit","1f",[1]),convertedGLSLs_over4.appendUniform("psx","1f",[1]),convertedGLSLs_over4.appendUniform("psy","1f",[1]),convertedGLSLs_over4.appendUniform("ppx","1f",[.5]),convertedGLSLs_over4.appendUniform("ppy","1f",[.5]),convertedGLSLs_over4.appendUniform("ppunit","1f",[1]),convertedGLSLs_ramp10.fragmentShader="# version 300 es \nprecision highp float;\nin vec3 vUV;\n@TDUniforms@\nuniform vec2 resolution;\nuniform float ptype;\nuniform float pposition1;\nuniform float pposition2;\nuniform float pphase;\nuniform float pperiod;\nuniform float pextendleft;\nuniform float pinterp;\nuniform float pantialias;\nuniform float ppremultrgbbyalpha;\nconst vec4 colors[] = vec4[](\nvec4(1.0,1.0,1.0,1.0),\nvec4(1.0,1.0,1.0,0.996),\nvec4(0.0,0.0,0.0,0.0));\nconst float pos[] = float[](0.0,0.9042822,1.0);\nvec4 RAMP(vec4 cols[3],float pos[3], float x, int type) {\nint a = 0;\nint b = 0;\nfor(int i=0; i<2;i++){\nif (pos[i]<=x && x<=pos[i+1]){\na = i;\nb = i+1;\nx = (x-pos[a])/(pos[b]-pos[a]);\nbreak;\n}\n}\nvec4 c = vec4(0.,0.,0.,0.);\nif (type == 3) c = mix(cols[a], cols[b], smoothstep(0.0, 1.0, x));\nif (type == 2) c = mix(cols[a], cols[b], smoothstep(0.0, 1.0, x));\nif (type == 0) c = mix(cols[a], cols[a], x);\nif (type == 1) c = mix(cols[a], cols[b], x);\nreturn c;\n}\nout vec4 fragColor;\nfloat extendLeft(float line, int type){\nfloat s = line;\nif(type == 0) s = clamp(line,0.,1.);\nif(type == 3) s = mod(line,1.);\nif(type == 4) {\ns = mod(line,2.);\nif(s>=1.0) s = 2.0-s;\n}\nreturn s;\n}\nvoid main()\n{\nvec4 c = vec4(0.0);\nvec4 cS = vec4(0.0);\nfloat line;\nvec2 uv0 = vUV.st-vec2(pposition1,pposition2);\nfloat aspect = resolution.y/resolution.x;\nif (resolution.x>resolution.y){\nfloat aspect = resolution.y/resolution.x;\nuv0.y = uv0.y*aspect;\nuv0.y = uv0.y+(1.0-aspect)/2.0;\n}\nelse{\nfloat aspect = resolution.x/resolution.y;\nuv0.x = uv0.x*aspect;\nuv0.x = uv0.x+(1.0-aspect)/2.0;\n}\nvec2 uv = uv0;\nvec2 d = 1./resolution;\nfor (float i = 1.; i <= pantialias; i++)\nfor (float j = 1.; j <= pantialias; j++){\nuv = uv0+vec2(i-1.,j-1.)*d/pantialias;\nif (int(ptype) == 0) line = (uv.y-(pphase))/pperiod;\nif (int(ptype) == 1) line = (uv.x-(pphase))/pperiod;\nif (int(ptype) == 3) line = (length(uv-0.5)*2.0)/pperiod-(pphase);\nline = extendLeft(line, int(pextendleft));\nc = RAMP(colors,pos,line, int(pinterp));\nif (pextendleft == 1. && (line >1. || line <0.)) c = vec4(0.,0.,0.,1.);\nif (pextendleft == 2. && (line >1. || line <0.)) c = vec4(0.,0.,0.,0.);\nif (ppremultrgbbyalpha > 0.) c.rgb = c.rgb*c.a;\ncS = cS+c;\n}\ncS = cS/(pantialias*pantialias);\nfragColor = (cS);\n}\n",convertedGLSLs_ramp10.appendUniform("ptype","1f",[3]),convertedGLSLs_ramp10.appendUniform("pposition1","1f",[0]),convertedGLSLs_ramp10.appendUniform("pposition2","1f",[0]),convertedGLSLs_ramp10.appendUniform("pphase","1f",[0]),convertedGLSLs_ramp10.appendUniform("pperiod","1f",[1]),convertedGLSLs_ramp10.appendUniform("pextendleft","1f",[2]),convertedGLSLs_ramp10.appendUniform("pinterp","1f",[1]),convertedGLSLs_ramp10.appendUniform("pantialias","1f",[4]),convertedGLSLs_ramp10.appendUniform("ppremultrgbbyalpha","1f",[1]),convertedGLSLs_out1.initialize(),convertedGLSLs_out1.update()

    const interval = setInterval(animate,1e3/60);

    return () => {
      clearInterval(interval)
    }
  }, [])

  return <DialogStyled
    onClose={onClose}
    icon={<CanvasStyled id="canvas" />}
    title="Private Verification with zkTLS"
  >
    <Content>
      <TextStyled>
        zkTLS lets you prove facts about your online accounts-without exposing personal data. It runs entirely on your device for full privacy.
      </TextStyled>

      <WidgetStyled>
        <IconedListStyled
          items={verificationSteps}
        />
      </WidgetStyled>

      <SmallTextStyled>
        To verify via zkTLS, you'll need to install the free <LinkStyled href={extensionDownloadLink} target="_blank">zkPass TransGate</LinkStyled> extension.
      </SmallTextStyled>
    </Content>

    <Buttons>
      <ButtonStyled
        href={docsLink}
        target='_blank'
      >
        Learn more
      </ButtonStyled>

      <ButtonStyled
        appearance='action'
        loading={loading}
        disabled={!dropInstance || loading}
        onClick={async () => {
          if (installStarted) {
            return window.location.reload()
          }
          setLoading(true)
          if (!dropInstance) {
            setLoading(false)
            return alert('Drop is not ready')
          }

          const transgateAvailable = await checkIfTransgateAvailable(dropInstance)

          if (!transgateAvailable) {
            plausibleApi.invokeEvent({
              eventName: 'transgate_not_available'
            })
            setLoading(false)
            return showTransgateDialog()
          }

          const verificationResult = await startVerification(dropInstance)
          if (!verificationResult) {
            plausibleApi.invokeEvent({
              eventName: 'verification_failed'
            })
            setLoading(false)
            return 
          }

          const {
            webproof,
            ephemeralKey
          } = verificationResult

          const claimedBefore = await checkIfClaimedBefore(
            dropInstance,
            webproof.uHash
          )

          if (claimedBefore) {
            setLoading(false)
            plausibleApi.invokeEvent({
              eventName: 'already_claimed'
            })
            return alert('Already claimed by user')
          }

          dispatch(setEphemeralKey(ephemeralKey))
          dispatch(setWebproof(webproof))
          dispatch(setVerified(true))

          setClaimIsReady()
          setLoading(false)

        }}
      >
        {installStarted ? 'Reload' : 'Start verification'}
      </ButtonStyled>
    </Buttons>
  </DialogStyled>
}

export default DialogVerification